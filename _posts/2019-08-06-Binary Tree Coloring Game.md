---
layout: post
title: Leetcode|Binary Tree Coloring Game|Python
---

é¢˜ç›®å¤§æ„ï¼šç»™ä¸€ä¸ªäºŒå‰æ ‘ğŸŒ³ï¼ŒäºŒå‰æ ‘ä¸­æœ‰nä¸ªèŠ‚ç‚¹(nä¸ºå¥‡æ•°)ï¼Œ æœ‰ä¸¤ä¸ªæ¸¸æˆç©å®¶ï¼Œ åœ¨ç¬¬ä¸€è½®ä¸­ï¼Œ ç¬¬ä¸€ä¸ªç©å®¶å¯é€‰ä»»æ„èŠ‚ç‚¹ï¼Œ æ¶‚ä¸ºçº¢è‰²ï¼Œ ç„¶åç¬¬äºŒä¸ªç©å®¶ä¹Ÿå¯é€‰ä»»ä¸€èŠ‚ç‚¹
å›¾ä¸ºè“è‰²ï¼ˆä¸èƒ½æ¶‚åŒä¸€èŠ‚ç‚¹ï¼‰ã€‚ä»ç¬¬äºŒè½®å¼€å§‹ï¼Œ æ¯ä¸ªç©å®¶éƒ½åªèƒ½æ¶‚è‡ªå·±å·²ç»æ¶‚è‰²çš„èŠ‚ç‚¹çš„é‚»å±…(åŒ…æ‹¬çˆ¶äº²èŠ‚ç‚¹ï¼Œ å·¦å³å­©å­èŠ‚ç‚¹)ã€‚æŒ‰ç…§æ­¤è§„åˆ™ä¸‹æ¥ï¼Œè‹¥æŸä¸€ç©å®¶æ— èŠ‚ç‚¹å¯æ¶‚ï¼Œ
å°±ç›´æ¥ç»™å¦ä¸€ä¸ªç©å®¶æ¶‚è‰²ï¼Œ å¦‚æœåˆ°æœ€åå¦ä¸€ä¸ªç©å®¶ä¹Ÿæ²¡æœ‰èŠ‚ç‚¹å¯ä»¥æ¶‚è‰²ï¼Œ æ¸¸æˆç»“æŸï¼Œ çœ‹è°çš„æ¶‚è‰²èŠ‚ç‚¹å¤šï¼Œ è°å°±æ˜¯èµ¢å®¶ã€‚é—®é¢˜æ˜¯ï¼šç»™ä¸€ä¸ªæ•°å­—xï¼Œ ä»£è¡¨ç¬¬ä¸€ä¸ªç©å®¶ç¬¬ä¸€æ¬¡
é€‰æ‹©çš„æ¶‚è‰²èŠ‚ç‚¹ï¼Œ æˆ‘ä»¬æ˜¯ç¬¬äºŒä¸ªç©å®¶ï¼Œ è¯·é—®èƒ½å¦æœ‰åŠæ³•ä¿è¯æˆ‘ä»¬ä¼šèµ¢å¾—æ¯”èµ›ã€‚

é¢˜ç›®è¯¦è§£ï¼šå› ä¸ºnä¸ºå¥‡æ•°ï¼Œ æ‰€ä»¥è‚¯å®šæœ‰èµ¢å®¶ï¼Œ ä¸ä¼šå¹³å±€ã€‚ç”±äºé¢˜ç›®å·²ç»ç»™äº†ç¬¬ä¸€ä¸ªç©å®¶ç¬¬ä¸€æ¬¡é€‰æ‹©çš„èŠ‚ç‚¹ï¼Œ é‚£ä¹ˆå°±è½®åˆ°æˆ‘ä»¬å»é€‰æ‹©èŠ‚ç‚¹ï¼Œ ä½†æˆ‘ä»¬å¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆæ€è·¯å¦‚ä½•
é€‰æ‹©èŠ‚ç‚¹ä¿è¯è‡ªå·±èµ¢ï¼Œç»§è€Œæˆ‘æƒ³åˆ°å‡è®¾æˆ‘é€‰å®Œäº†ï¼Œ ä¸‹ä¸€è½®ç¬¬ä¸€ä¸ªç©å®¶ä¼šé€‰ä»–ä¸Šæ¬¡é€‰è¿‡çš„é‚»å±…ï¼Œ ä¹Ÿå°±æ˜¯çˆ¶äº²èŠ‚ç‚¹æˆ–å·¦ğŸ‘ˆèŠ‚ç‚¹æˆ–å³ğŸ‘‰èŠ‚ç‚¹ï¼Œ é‚£ä¹ˆæˆ‘å°±å¯ä»¥åœ¨ç¬¬ä¸€è½®ä¸­ç›´æ¥é€‰
xçš„çˆ¶äº²æˆ–å·¦å³å­©å­ï¼Œ è¦é€‰é¡ºä¸‹å»æ¶‚è‰²é‚»å±…æœ€å¤šçš„é‚£ä¸€ä¸ªã€‚ç„¶åçœ‹é‚£ä¸€ä¸ªå’Œé‚£ä¸€ä¸ªçš„é‚»å±…ä»¬å’Œxæ‰€èƒ½è¾¾åˆ°çš„èŠ‚ç‚¹å“ªä¸ªæ•°é‡å¤šå³å¯ã€‚

ç®—æ³•ï¼šäºŒå‰æ ‘ğŸŒ³

```python
#ä»¥ä¸‹ä¸ºé¢˜ç›®ç»™å®šäºŒå‰æ ‘ğŸŒ³çš„æ•°æ®ç±»å‹
# Definition for a binary tree node.
# class TreeNode(object):
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution(object):
    def btreeGameWinningMove(self, root, n, x):
        #dfsä¸“ä¸šå»æ‰¾èŠ‚ç‚¹å€¼ä¸ºxçš„é‚£ä¸ªèŠ‚ç‚¹
        red = self.dfs(root, x)
        #æ•°å‡ºå·¦å³èŠ‚ç‚¹çš„ä¸ªæ•°
        red_left_count = self.count_kids(red.left)
        red_right_count = self.count_kids(red.right) 
        #ç¬¬ä¸€ç§æƒ…å†µä¸ºæˆ‘ç¬¬ä¸€æ¬¡é€‰äº†xå·¦å³å­©å­ä¸­é‚»å±…å¤šçš„é‚£ä¸ªå­©å­ï¼Œ ç¬¬äºŒç§ä¸ºæˆ‘ç¬¬ä¸€æ¬¡é€‰äº†xçš„çˆ¶äº²ï¼Œ æŠŠå…¶æ‰€èƒ½è¾¾åˆ°çš„é‚»å±…å’Œxæ‰€èƒ½è¾¾åˆ°çš„è¿›è¡Œæ¯”è¾ƒ
        if 2 * max(red_left_count, red_right_count) > n or n > 2 * (red_left_count + red_right_count + 1):
            return True
        return False
    #æ­¤å‡½æ•°ä¸ºæ‰¾å‡ºxèŠ‚ç‚¹ï¼Œ ä½†æˆ‘å¼€å§‹è¿”å›å€¼é‚£é‡Œå†™é”™äº†ï¼Œ å¤šæ³¨æ„è¿”å›å€¼å†™æ³•
    def dfs(self, node, x):
        if not node:
            return None
        if node.val == x:
            return node
        res = self.dfs(node.left, x)
        if res:
            return res
        else:
            return self.dfs(node.right, x)
    #æ‰¾å‡ºèŠ‚ç‚¹åŠå…¶å­©å­æ€»å…±çš„æ•°é‡
    def count_kids(self, node):
        if not node:
            return 0
        return self.count_kids(node.left) + self.count_kids(node.right) + 1   
        
```
